<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--<link rel="stylesheet" href="./syles.css">-->
    <style>
        .node,.tree-frame{box-sizing:border-box}.tree-frame{height:600px;width:500px;position:relative;float:left;border:2px solid}.arc,.interface,.node{position:absolute}.box-shadow{-webkit-box-shadow:1px 1px 2px 2px rgba(9,93,219,.79);-moz-box-shadow:1px 1px 2px 2px rgba(9,93,219,.79);box-shadow:1px 1px 2px 2px rgba(9,93,219,.79)}.arc:hover,.node:hover{-webkit-box-shadow:1px 1px 2px 2px rgba(9,93,219,.79);-moz-box-shadow:1px 1px 2px 2px rgba(9,93,219,.79)}.node{border:3px solid;border-radius:50%;width:50px;height:50px;background-color:#adff2f;display:flex}.node span{height:auto;width:auto;margin:auto}.node:hover{box-shadow:1px 1px 2px 2px rgba(9,93,219,.79)}.node.node-A{top:50px;left:225px;bottom:5px;right:5px}.node.node-B{top:300px;left:75px;bottom:5px;right:5px}.node.node-C,.node.node-D{top:500px;bottom:5px;right:5px}.node.node-D{left:375px}.node.node-C{left:75px}.node.node-E{top:300px;left:375px;bottom:5px;right:5px}.node.node-F,.node.node-G{left:225px;bottom:5px;right:5px}.node.node-F{top:200px}.node.node-G{top:400px}.arc{background-color:#000;height:5px;cursor:pointer;z-index:1}.arc:hover{box-shadow:1px 1px 2px 2px rgba(9,93,219,.79)}.arc.error{background-color:red}.arc.in-tree{background-color:gold}.arc.arc-AB{width:245px;top:198px;left:50px;transform:rotate(120deg)}.arc.arc-AE{width:245px;top:195px;left:205px;transform:rotate(60deg)}.arc.arc-AF,.arc.arc-BC{transform:rotate(90deg)}.arc.arc-AF{width:102px;top:148px;left:200px}.arc.arc-BC{width:151px;top:423px;left:25px}.arc.arc-BE{width:256px;top:324px;left:122px;transform:rotate(0)}.arc.arc-BF,.arc.arc-CG{width:135px;left:108px;transform:rotate(-40deg)}.arc.arc-BF{top:276px}.arc.arc-CG{top:474px}.arc.arc-DG{width:136px;top:474px;left:256px;transform:rotate(215deg)}.arc.arc-EF{width:136px;top:276px;left:256px;transform:rotate(-146deg)}.arc.arc-BG{width:135px;top:370px;left:108px;transform:rotate(38deg)}.arc.arc-EG{width:135px;top:370px;left:256px;transform:rotate(146deg)}.arc.arc-DE{width:151px;top:423px;left:325px;transform:rotate(270deg)}.arc.arc-CD{width:256px;top:525px;left:122px;transform:rotate(0)}.interface{width:20px;height:20px;top:-55%;border:1px solid;background-color:green;z-index:1}.interface.error{background-color:red}.interface.in-tree{background-color:gold}.interface:hover{-webkit-box-shadow:1px 1px 2px 2px rgba(9,93,219,.79);-moz-box-shadow:1px 1px 2px 2px rgba(9,93,219,.79);box-shadow:1px 1px 2px 2px rgba(9,93,219,.79)}.explenation-frame{width:500px;height:auto;border:2px solid}
    </style>

</head>

<body>

    <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

    <main>
        Press on the interfaces in order to enable / disable the link
        <hr class="line">

        <div class="tree-frame" id="tree-frame"></div>
        
        <div class="explenation-frame">
            spanning trees calculatios : by <a href="http://mathworld.wolfram.com/MatrixTreeTheorem.html">Matrix Tree Theorem</a> 
<h1> D - A = L</h1>
         <pre>
|[0,1,0,0,1,1,0]|   |[3,0,0,0,0,0,0]|   |[ 3,-1, 0, 0,-1,-1, 0]| 
|[1,0,1,0,1,1,1]|   |[0,5,0,0,0,0,0]|   |[-1, 5,-1, 0,-1,-1,-1]| 
|[0,1,0,1,0,0,1]|   |[0,0,3,0,0,0,0]|   |[ 0,-1, 3,-1, 0, 0,-1]|
|[0,0,1,0,1,0,1]| - |[0,0,0,3,0,0,0]| = |[ 0, 0,-1, 3,-1, 0,-1]|
|[1,1,0,1,0,1,1]|   |[0,0,0,0,5,0,0]|   |[-1,-1, 0,-1, 5,-1,-1]|
|[1,1,0,1,1,0,0]|   |[0,0,0,0,0,3,0]|   |[-1,-1, 0,-1,-1, 3, 0]|
|[0,1,1,1,1,0,0]|   |[0,0,0,0,0,0,4]|   |[ 0,-1,-1,-1,-1, 0, 4]|
            </pre>
            and the cofactor of L is <strong>2699</strong>, so we conclude that there are 2699 distinct spanning trees in this graph,
        </div>
        <!--<div id="loggerView" style="float:left;margin-right:40px; border:1px solid; max-width:100%; max-height:400px; overflow:scroll;"></div>-->
    </main>
    <!--<script src="./index.js"></script>-->
    <script>
    !function(t){function e(n){if(r[n])return r[n].exports;var s=r[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){r(1),t.exports=r(2)},function(t,e){"use strict";var r=function(){function t(){this.view=document.getElementById("loggerView"),this.counter=1}return t.prototype.log=function(t){},t.prototype.clear=function(){},t.prototype.spacer=function(){},t}();e.Logger=r;var n=new r,s=function(){function t(){}return t.map=new Map,t}();e.NodesMap=s;var i=function(){function t(t,e,r){this.mainElement=t,this.initArcs(r),this.initNodes(e),this.generateGraph()}return t.prototype.initNodes=function(t){this.nodes=[];for(var e=0,r=t;e<r.length;e++){var n=r[e],i=document.createElement("div");i.setAttribute("title",n.name),i.setAttribute("class","node node-"+n.name),i.innerHTML="<span>"+n.name+"</span>",n.element=i,n.arcs=this.getNodeArcs(n.name),n.setDefaultMessage(),this.nodes.push(n),s.map.set(n.name,n),this.mainElement.appendChild(i)}},t.prototype.initArcs=function(t){var e=this;this.arcsList=t;for(var r=0,n=t;r<n.length;r++){var s=n[r];this.mainElement.appendChild(s.element),s.callBack=function(){e.resetGraph(),e.generateGraph()}}},t.prototype.resetGraph=function(){for(var t=0,e=this.arcsList;t<e.length;t++){var r=e[t];r.cleanMarkTree()}},t.prototype.getStartingNode=function(t){var e=t.sort(function(t,e){for(var r=0;t.name.length>r&&e.name.length>r;){var n=t.name.charCodeAt(r)-e.name.charCodeAt(r);if(++r,0!==n)return n}return 0});return e[0]},t.prototype.generateGraph=function(){var t=this.getWorkingLinks(),e=this.getActiveNodes(),r=this.getStartingNode(e);n.clear(),n.log("root is set to "+r.name);for(var s=0,i=e;s<i.length;s++){var a=i[s];a.setDefaultMessage()}for(;!this.isGraphReady(r.name,e);)for(var o=0,c=e;o<c.length;o++){var a=c[o];a.emit()}n.log("graph is ready");for(var h=0,p=e;h<p.length;h++){var a=p[h];n.log(a.message.toString2());var l=a.message.getArcName(),u=t.get(l);u&&u.markInTree()}},t.prototype.isGraphReady=function(t,e){for(var r=!0,n=0,s=e;n<s.length;n++){var i=s[n];r=t===i.message.root}return r},t.prototype.getNodeArcs=function(t){for(var e=new Array,r=0,n=this.arcsList;r<n.length;r++){var s=n[r];s.name.includes(t)&&e.push(s)}return e},t.prototype.getActiveNodes=function(){for(var t=[],e=0,r=this.nodes;e<r.length;e++){var n=r[e];n.isActive()&&t.push(n)}return t},t.prototype.getWorkingLinks=function(){for(var t=new Map,e=0,r=this.arcsList;e<r.length;e++){var n=r[e];n.isActive&&t.set(n.name,n)}return t},t}();e.GGraph=i;var a=function(){function t(t){this.name=t,this.arcs=[],this.element=void 0,this.root=this.name}return t.prototype.isActive=function(){for(var t=!1,e=0,r=this.arcs;e<r.length;e++){var n=r[e];t=t||n.isActive}return t},t.prototype.emit=function(){for(var t=0,e=this.arcs;t<e.length;t++){var r=e[t];n.log("node: "+this.name+" arc:"+r.name+"  Active:"+r.isActive),r.isActive&&r.emit(this.message)}},t.prototype.getMessage=function(){return this.message},t.prototype.handleIncomingsMessage=function(t){if(t.source==this.name)throw Error("message sand to self !!");var e=!0,r=this.message;e&&n.log("innerMessage "+r.toString2()),e&&n.log("incomingMessage "+t.toString2());var i=this.message.root.localeCompare(t.root);if(1===i&&(r.root=t.root,r.steps=t.steps+1,r.connector=t.source),0===i){var a=this.compareNumbers(r.steps,t.steps);if(a>0){var o=this.compareNumbers(this.connectorMessage.steps,t.steps);if(0===o&&this.connectorMessage.source.localeCompare(t.source)===-1)return e&&n.log("spacial"),e&&n.log("Node "+this.name+" message updated to "+r.toString2()),void(e&&n.spacer());r.connector=t.source,r.steps=t.steps+1}if(0===a){var c=r.connector.localeCompare(t.source);1===c&&(r.connector=t.connector)}}var h=s.map.get(this.message.connector);h&&(this.connectorMessage=h.message),e&&n.log("Node "+this.name+" message updated to "+r.toString2()),e&&n.spacer()},t.prototype.compareNumbers=function(t,e){var r=t-e;return r>0?1:r<0?-1:0},t.prototype.setDefaultMessage=function(){this.message=new o(this.name,this.name,0,null)},t}();e.GNode=a;var o=function(){function t(t,e,r,n){this.source=t,this.root=e,this.steps=r,this.connector=n}return t.prototype.toString2=function(){var t=this.getArcName();return"ArcName: "+t+" Source: "+this.source+", Root: "+this.root+", Steps: "+this.steps+", Connector: "+(this.connector||"Empty")+"."},t.prototype.getArcName=function(){if("Empty"===this.connector)return null;var t=this.source.localeCompare(this.connector);return t===-1?this.source+this.connector:this.connector+this.source},t}();e.Message=o;var c=function(){function t(t,e,r,n){this.name=t+r,this.start=t,this.startEntryNumber=e,this.end=r,this.endEntryNumber=n,this.isActive=!0,this.startInterface=void 0,this.endInterface=void 0,this.element=this.bootstrapArc(t+e,r+n),this.callBack=void 0}return t.prototype.emit=function(t){var e=t.source===this.end?s.map.get(this.start):s.map.get(this.end);e.handleIncomingsMessage(t)},t.prototype.bootstrapArc=function(t,e){var r=document.createElement("div");return this.startInterface=this.createInterface(t),this.endInterface=this.createInterface(e,!0),r.appendChild(this.startInterface),r.appendChild(this.endInterface),r.setAttribute("title",this.name),r.setAttribute("class","arc arc-"+this.name),r},t.prototype.createInterface=function(t,e){var r=this;void 0===e&&(e=!1);var s=document.createElement("div");return s.setAttribute("class","interface"),s.setAttribute("style","\n            left:"+(e?"90%":"0%")+";\n        "),s.setAttribute("id",t),s.innerHTML+=t,s.addEventListener("click",function(t){var e=t.currentTarget;t.stopPropagation();var s=e.classList.contains("error")?function(){e.classList.remove("error"),r.startInterface.classList.contains("error")||r.endInterface.classList.contains("error")||(r.element.classList.remove("error"),r.isActive=!0),n.log(e.id+" is enabled")}:function(){e.classList.add("error"),(r.startInterface.classList.contains("error")||r.endInterface.classList.contains("error"))&&(r.element.classList.add("error"),r.isActive=!1),n.log(e.id+" is disabled")};s(),console.log(r.name+": isActive = "+r.isActive),r.element.classList.remove("in-tree"),r.callBack()}),s},t.prototype.markInTree=function(){this.element.classList.add("in-tree")},t.prototype.cleanMarkTree=function(){this.element.classList.remove("in-tree")},t}();e.GArc=c;var h=function(){function t(){this.initDegrees(),this.printMatrix(this.degreeMatrix),this.initAdjacency(),this.printMatrix(this.adjacencyMatrix),this.calcLaplasyan(),this.printMatrix(this.laplasyan);var t=this.laplasyanRemove(2);this.printMatrix(t);var e=this.determinant(this.laplasyan);console.log(e),e=this.determinant([[-1,-1,0],[0,2,-1],[-1,-1,2]]),console.log(e)}return t.prototype.laplasyanRemove=function(t){return this.laplasyan.shift(),this.laplasyan.forEach(function(t){return t.shift()}),this.laplasyan},t.prototype.calcLaplasyan=function(){this.laplasyan=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];for(var t=this.degreeMatrix.length,e=0;e<t;e++)for(var r=0;r<t;r++)this.laplasyan[e][r]=this.degreeMatrix[e][r]-this.adjacencyMatrix[e][r]},t.prototype.initAdjacency=function(){this.adjacencyMatrix=[[0,1,0,0,1,1,0],[1,0,1,0,1,1,1],[0,1,0,1,0,0,1],[0,0,1,0,1,0,1],[1,1,0,1,0,1,1],[1,1,0,1,1,0,0],[0,1,1,1,1,0,0]]},t.prototype.initDegrees=function(){var t=[3,5,3,3,5,3,4];this.degreeMatrix=new Array;for(var e=0;e<7;++e)this.degreeMatrix.push(new Array(7).fill(0)),this.degreeMatrix[e][e]=t[e]},t.prototype.printMatrix=function(t){for(var e="",r=0;r<t.length;++r)e+="|[",e+=t[r].toString(),e+="]|\n";console.log(e)},t.prototype.determinant=function(t){var e,r,n,s,i=t.length,a=t[0].length,o=0;if(1===i)return t[0][0];if(2===i)return t[0][0]*t[1][1]-t[0][1]*t[1][0];for(r=0;r<a;r++){for(n=t[0][r],s=t[0][r],e=1;e<i;e++)s*=t[e][((r+e)%a+a)%a],n*=t[e][((r-e)%a+a)%a];o+=s-n}return o},t}();e.MatrixGraph=h},function(t,e,r){"use strict";var n=r(1),s=[new n.GNode("A"),new n.GNode("B"),new n.GNode("C"),new n.GNode("D"),new n.GNode("E"),new n.GNode("F"),new n.GNode("G")],i=[new n.GArc("A","1","E","5"),new n.GArc("A","2","F","1"),new n.GArc("A","3","B","1"),new n.GArc("B","2","F","3"),new n.GArc("B","3","E","3"),new n.GArc("B","4","G","4"),new n.GArc("B","5","C","1"),new n.GArc("C","2","G","2"),new n.GArc("C","3","D","2"),new n.GArc("D","1","E","1"),new n.GArc("D","3","G","2"),new n.GArc("E","2","G","1"),new n.GArc("E","4","F","2")];new n.GGraph(document.getElementById("tree-frame"),s,i),new n.MatrixGraph}]);
    </script>
</body>

</html>